<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>My Personal Dashboard</title>
    <link rel="stylesheet" href="//unpkg.com/docsify/lib/themes/vue.css" />
    <link rel="stylesheet" href="dashboard.css" />

    <!-- THEME INITIALIZER -->
    <script>
    (function () {
        const THEME_KEY = 'self-record-theme';
        const SIDEBAR_KEY = 'self-record-sidebar';

        const prefersDark = window.matchMedia &&
        window.matchMedia('(prefers-color-scheme: dark)').matches;
        const savedTheme = localStorage.getItem(THEME_KEY);
        const theme = savedTheme || (prefersDark ? 'dark' : 'light');

        function applyTheme(t) {
        document.documentElement.setAttribute('data-theme', t);
        localStorage.setItem(THEME_KEY, t);
        const btn = document.getElementById('theme-toggle');
        if (btn) btn.textContent = t === 'dark' ? '‚òÄÔ∏è' : 'üåô';
        }

        function applySidebar(open) {
        document.body.classList.toggle('sidebar-hidden', !open);
        localStorage.setItem(SIDEBAR_KEY, open ? 'open' : 'closed');
        const btn = document.getElementById('sidebar-toggle');
        if (btn) btn.textContent = open ? '¬´' : '¬ª';
        }

        window.__toggleTheme = function () {
        const current =
            document.documentElement.getAttribute('data-theme') || 'light';
        applyTheme(current === 'dark' ? 'light' : 'dark');
        };

        window.__toggleSidebar = function () {
        const isHidden = document.body.classList.contains('sidebar-hidden');
        applySidebar(isHidden); // if hidden ‚Üí open, else close
        };

        // initial
        const savedSidebar = localStorage.getItem(SIDEBAR_KEY) || 'open';
        applyTheme(theme);
        window.addEventListener('DOMContentLoaded', function () {
        applySidebar(savedSidebar !== 'closed');
        });
    })();
    </script>

  </head>

  <body>
    <!-- THEME TOGGLE BUTTON -->
    <button id="theme-toggle" onclick="__toggleTheme()"></button>
    <button id="sidebar-toggle" onclick="__toggleSidebar()"></button>

    <div id="app"></div>

    <script>
      window.$docsify = {
        name: '', // we hid/removed the ugly app-name
        repo: '',
        homepage: 'README.md',
        loadSidebar: true,
        subMaxLevel: 2,
      };
    </script>

    <script src="//unpkg.com/docsify/lib/docsify.min.js"></script>
  </body>
</html>
